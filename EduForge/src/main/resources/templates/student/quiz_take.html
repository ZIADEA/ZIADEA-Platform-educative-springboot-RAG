<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org" th:replace="~{layout/base :: layout(${pageTitle}, ~{::content})}">
<div th:fragment="content">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="h4 mb-0">Quiz</h2>
    <a class="btn btn-outline-secondary btn-sm" th:href="@{|/course/${quiz.courseId}|}">Retour</a>
  </div>

  <div class="card shadow-sm mb-3">
    <div class="card-body">
      <div class="small text-muted">Difficult√©: <span th:text="${quiz.difficulty}"></span></div>
      <div class="small text-muted">Questions: <span th:text="${quiz.questionCount}"></span></div>
    </div>
  </div>

  <form th:action="@{/student/quiz/submit}" th:object="${form}" method="post">
    <input type="hidden" th:field="*{quizId}">
    <input type="hidden" th:field="*{courseId}">

    <div class="card shadow-sm mb-3" th:each="q : ${questions}">
      <div class="card-body">
        <div class="fw-semibold mb-2">
          <span th:text="${q.index}"></span>. <span th:text="${q.questionText}"></span>
        </div>

        <div class="form-check">
          <input class="form-check-input" type="radio" th:name="${'answers[' + q.id + ']'}" value="A" required>
          <label class="form-check-label" th:text="${q.aText}"></label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" th:name="${'answers[' + q.id + ']'}" value="B" required>
          <label class="form-check-label" th:text="${q.bText}"></label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" th:name="${'answers[' + q.id + ']'}" value="C" required>
          <label class="form-check-label" th:text="${q.cText}"></label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" th:name="${'answers[' + q.id + ']'}" value="D" required>
          <label class="form-check-label" th:text="${q.dText}"></label>
        </div>
      </div>
    </div>

    <button class="btn btn-primary w-100">Valider</button>
  </form>
</div>
</html>
