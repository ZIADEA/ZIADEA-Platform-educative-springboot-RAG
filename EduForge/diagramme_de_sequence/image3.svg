<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="2103px" preserveAspectRatio="none" style="width:2702px;height:2103px;background:#FFFFFF;" version="1.1" viewBox="0 0 2702 2103" width="2702px" zoomAndPan="magnify"><title>EduForge - &#201;tudiant: Inscription cours + Quiz IA (RAG+Gemini) + Notation + Progression</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="701.5586" x="996.6819" y="27.9951">EduForge - &#201;tudiant: Inscription cours + Quiz IA (RAG+Gemini) + Notation + Progression</text><rect fill="none" height="280" style="stroke:#000000;stroke-width:1.5;" width="1269.4624" x="1266.0918" y="1244"/><rect fill="none" height="248.8672" style="stroke:#000000;stroke-width:1.5;" width="1249.4624" x="1276.0918" y="1268.1328"/><g class="participant-lifeline" data-entity-uid="part1" data-qualified-name="STU" id="part1-lifeline"><g><title>.tudiant .Browser.</title><rect fill="#000000" fill-opacity="0.00000" height="1822.375" width="8" x="69.6694" y="153.4844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="73" x2="73" y1="153.4844" y2="1975.8594"/></g></g><g class="participant-lifeline" data-entity-uid="part2" data-qualified-name="SCC" id="part2-lifeline"><g><title>StudentCourseController</title><rect fill="#000000" fill-opacity="0.00000" height="1822.375" width="8" x="351.5811" y="153.4844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="355.0005" x2="355.0005" y1="153.4844" y2="1975.8594"/></g></g><g class="participant-lifeline" data-entity-uid="part3" data-qualified-name="CES" id="part3-lifeline"><g><title>CourseEnrollmentService</title><rect fill="#000000" fill-opacity="0.00000" height="1822.375" width="8" x="550.687" y="153.4844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="554.1616" x2="554.1616" y1="153.4844" y2="1975.8594"/></g></g><g class="participant-lifeline" data-entity-uid="part4" data-qualified-name="SQC" id="part4-lifeline"><g><title>StudentQuizController</title><rect fill="#000000" fill-opacity="0.00000" height="1822.375" width="8" x="740.9199" y="153.4844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="744.2124" x2="744.2124" y1="153.4844" y2="1975.8594"/></g></g><g class="participant-lifeline" data-entity-uid="part5" data-qualified-name="QAS" id="part5-lifeline"><g><title>QuizAgentService</title><rect fill="#000000" fill-opacity="0.00000" height="1822.375" width="8" x="1141.8057" y="153.4844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1145.5195" x2="1145.5195" y1="153.4844" y2="1975.8594"/></g></g><g class="participant-lifeline" data-entity-uid="part6" data-qualified-name="QS" id="part6-lifeline"><g><title>QuizService</title><rect fill="#000000" fill-opacity="0.00000" height="1822.375" width="8" x="1359.8403" y="153.4844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1363.0918" x2="1363.0918" y1="153.4844" y2="1975.8594"/></g></g><g class="participant-lifeline" data-entity-uid="part7" data-qualified-name="CHUNK" id="part7-lifeline"><g><title>CourseChunkRepository</title><rect fill="#000000" fill-opacity="0.00000" height="1822.375" width="8" x="1622.4146" y="153.4844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1626.189" x2="1626.189" y1="153.4844" y2="1975.8594"/></g></g><g class="participant-lifeline" data-entity-uid="part8" data-qualified-name="GAI" id="part8-lifeline"><g><title>GeminiAiGateway</title><rect fill="#000000" fill-opacity="0.00000" height="1822.375" width="8" x="1793.1719" y="153.4844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1796.6401" x2="1796.6401" y1="153.4844" y2="1975.8594"/></g></g><g class="participant-lifeline" data-entity-uid="part9" data-qualified-name="SPS" id="part9-lifeline"><g><title>StudentProgressService</title><rect fill="#000000" fill-opacity="0.00000" height="1822.375" width="8" x="1963.4336" y="153.4844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1966.7036" x2="1966.7036" y1="153.4844" y2="1975.8594"/></g></g><g class="participant-lifeline" data-entity-uid="part10" data-qualified-name="NS" id="part10-lifeline"><g><title>NotificationService</title><rect fill="#000000" fill-opacity="0.00000" height="1822.375" width="8" x="2137.1987" y="153.4844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="2141.1636" x2="2141.1636" y1="153.4844" y2="1975.8594"/></g></g><g class="participant-lifeline" data-entity-uid="part11" data-qualified-name="DB" id="part11-lifeline"><g><title>PostgreSQL</title><rect fill="#000000" fill-opacity="0.00000" height="1822.375" width="8" x="2366.958" y="153.4844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="2370.3618" x2="2370.3618" y1="153.4844" y2="1975.8594"/></g></g><g class="participant-lifeline" data-entity-uid="part12" data-qualified-name="VIEW" id="part12-lifeline"><g><title>Thymeleaf</title><rect fill="#000000" fill-opacity="0.00000" height="1822.375" width="8" x="2604.2383" y="153.4844"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="2607.5542" x2="2607.5542" y1="153.4844" y2="1975.8594"/></g></g><g class="participant participant-head" data-entity-uid="part1" data-qualified-name="STU" id="part1-head"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131.3389" x="5" y="150.1826">&#201;tudiant (Browser)</text><ellipse cx="73.6694" cy="85.6875" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M73.6694,93.6875 L73.6694,120.6875 M60.6694,101.6875 L86.6694,101.6875 M73.6694,120.6875 L60.6694,135.6875 M73.6694,120.6875 L86.6694,135.6875" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-entity-uid="part1" data-qualified-name="STU" id="part1-tail"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131.3389" x="5" y="1987.8545">&#201;tudiant (Browser)</text><ellipse cx="73.6694" cy="1999.6563" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M73.6694,2007.6563 L73.6694,2034.6563 M60.6694,2015.6563 L86.6694,2015.6563 M73.6694,2034.6563 L60.6694,2049.6563 M73.6694,2034.6563 L86.6694,2049.6563" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-entity-uid="part2" data-qualified-name="SCC" id="part2-head"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="187.1611" x="262.0005" y="122.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173.1611" x="269.0005" y="142.1826">StudentCourseController</text></g><g class="participant participant-tail" data-entity-uid="part2" data-qualified-name="SCC" id="part2-tail"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="187.1611" x="262.0005" y="1974.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173.1611" x="269.0005" y="1994.8545">StudentCourseController</text></g><g class="participant participant-head" data-entity-uid="part3" data-qualified-name="CES" id="part3-head"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="191.0508" x="459.1616" y="122.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177.0508" x="466.1616" y="142.1826">CourseEnrollmentService</text></g><g class="participant participant-tail" data-entity-uid="part3" data-qualified-name="CES" id="part3-tail"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="191.0508" x="459.1616" y="1974.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177.0508" x="466.1616" y="1994.8545">CourseEnrollmentService</text></g><g class="participant participant-head" data-entity-uid="part4" data-qualified-name="SQC" id="part4-head"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="169.415" x="660.2124" y="122.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155.415" x="667.2124" y="142.1826">StudentQuizController</text></g><g class="participant participant-tail" data-entity-uid="part4" data-qualified-name="SQC" id="part4-tail"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="169.415" x="660.2124" y="1974.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155.415" x="667.2124" y="1994.8545">StudentQuizController</text></g><g class="participant participant-head" data-entity-uid="part5" data-qualified-name="QAS" id="part5-head"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="260.5723" x="1015.5195" y="105.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.3115" x="1083.6499" y="125.8857">QuizAgentService</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="246.5723" x="1022.5195" y="142.1826">(generateQuiz + parseAiResponse)</text></g><g class="participant participant-tail" data-entity-uid="part5" data-qualified-name="QAS" id="part5-tail"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="260.5723" x="1015.5195" y="1974.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.3115" x="1083.6499" y="1994.8545">QuizAgentService</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="246.5723" x="1022.5195" y="2011.1514">(generateQuiz + parseAiResponse)</text></g><g class="participant participant-head" data-entity-uid="part6" data-qualified-name="QS" id="part6-head"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="155.4971" x="1286.0918" y="105.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82.8721" x="1322.4043" y="125.8857">QuizService</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141.4971" x="1293.0918" y="142.1826">(attempt + grading)</text></g><g class="participant participant-tail" data-entity-uid="part6" data-qualified-name="QS" id="part6-tail"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="155.4971" x="1286.0918" y="1974.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82.8721" x="1322.4043" y="1994.8545">QuizService</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141.4971" x="1293.0918" y="2011.1514">(attempt + grading)</text></g><g class="participant participant-head" data-entity-uid="part7" data-qualified-name="CHUNK" id="part7-head"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="182.4512" x="1535.189" y="105.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168.4512" x="1542.189" y="125.8857">CourseChunkRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142.1533" x="1555.3379" y="142.1826">(pgvector similarity)</text></g><g class="participant participant-tail" data-entity-uid="part7" data-qualified-name="CHUNK" id="part7-tail"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="182.4512" x="1535.189" y="1974.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168.4512" x="1542.189" y="1994.8545">CourseChunkRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142.1533" x="1555.3379" y="2011.1514">(pgvector similarity)</text></g><g class="participant participant-head" data-entity-uid="part8" data-qualified-name="GAI" id="part8-head"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="139.0635" x="1727.6401" y="105.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.0635" x="1734.6401" y="125.8857">GeminiAiGateway</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.6465" x="1734.8486" y="142.1826">(gemini-1.5-flash)</text></g><g class="participant participant-tail" data-entity-uid="part8" data-qualified-name="GAI" id="part8-tail"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="139.0635" x="1727.6401" y="1974.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.0635" x="1734.6401" y="1994.8545">GeminiAiGateway</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.6465" x="1734.8486" y="2011.1514">(gemini-1.5-flash)</text></g><g class="participant participant-head" data-entity-uid="part9" data-qualified-name="SPS" id="part9-head"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="181.46" x="1876.7036" y="105.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167.46" x="1883.7036" y="125.8857">StudentProgressService</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72.0029" x="1931.4321" y="142.1826">(XP, stats)</text></g><g class="participant participant-tail" data-entity-uid="part9" data-qualified-name="SPS" id="part9-tail"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="181.46" x="1876.7036" y="1974.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167.46" x="1883.7036" y="1994.8545">StudentProgressService</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72.0029" x="1931.4321" y="2011.1514">(XP, stats)</text></g><g class="participant participant-head" data-entity-uid="part10" data-qualified-name="NS" id="part10-head"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146.0703" x="2068.1636" y="122.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.0703" x="2075.1636" y="142.1826">NotificationService</text></g><g class="participant participant-tail" data-entity-uid="part10" data-qualified-name="NS" id="part10-tail"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146.0703" x="2068.1636" y="1974.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.0703" x="2075.1636" y="1994.8545">NotificationService</text></g><g class="participant participant-head" data-entity-uid="part11" data-qualified-name="DB" id="part11-head"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.7529" x="2327.5815" y="101.292">PostgreSQL</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="283.1924" x="2226.3618" y="117.5889">(course_enrollment, quiz, quiz_question,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="255.2813" x="2240.3174" y="133.8857">quiz_attempt, quiz_attempt_answer,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="214.6621" x="2260.627" y="150.1826">student_progress, notification)</text><path d="M2352.958,52.2969 C2352.958,42.2969 2370.958,42.2969 2370.958,42.2969 C2370.958,42.2969 2388.958,42.2969 2388.958,52.2969 L2388.958,78.2969 C2388.958,88.2969 2370.958,88.2969 2370.958,88.2969 C2370.958,88.2969 2352.958,88.2969 2352.958,78.2969 L2352.958,52.2969" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M2352.958,52.2969 C2352.958,62.2969 2370.958,62.2969 2370.958,62.2969 C2370.958,62.2969 2388.958,62.2969 2388.958,52.2969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-entity-uid="part11" data-qualified-name="DB" id="part11-tail"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.7529" x="2327.5815" y="1987.8545">PostgreSQL</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="283.1924" x="2226.3618" y="2004.1514">(course_enrollment, quiz, quiz_question,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="255.2813" x="2240.3174" y="2020.4482">quiz_attempt, quiz_attempt_answer,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="214.6621" x="2260.627" y="2036.7451">student_progress, notification)</text><path d="M2352.958,2050.0469 C2352.958,2040.0469 2370.958,2040.0469 2370.958,2040.0469 C2370.958,2040.0469 2388.958,2040.0469 2388.958,2050.0469 L2388.958,2076.0469 C2388.958,2086.0469 2370.958,2086.0469 2370.958,2086.0469 C2370.958,2086.0469 2352.958,2086.0469 2352.958,2076.0469 L2352.958,2050.0469" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M2352.958,2050.0469 C2352.958,2060.0469 2370.958,2060.0469 2370.958,2060.0469 C2370.958,2060.0469 2388.958,2060.0469 2388.958,2050.0469" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-entity-uid="part12" data-qualified-name="VIEW" id="part12-head"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="165.3682" x="2525.5542" y="105.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.9717" x="2571.2524" y="125.8857">Thymeleaf</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.3682" x="2532.5542" y="142.1826">(templates/student/*)</text></g><g class="participant participant-tail" data-entity-uid="part12" data-qualified-name="VIEW" id="part12-tail"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="165.3682" x="2525.5542" y="1974.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.9717" x="2571.2524" y="1994.8545">Thymeleaf</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.3682" x="2532.5542" y="2011.1514">(templates/student/*)</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2695.9224" x="0" y="184.0508"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2695.9224" y1="184.0508" y2="184.0508"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2695.9224" y1="187.0508" y2="187.0508"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2;" width="227.002" x="1234.4602" y="173.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="208.4761" x="1240.4602" y="189.5513">Inscription &#224; un cours public</text><g class="message" data-entity-1="part1" data-entity-2="part2" id="msg1"><polygon fill="#181818" points="343.5811,223.75,353.5811,227.75,343.5811,231.75,347.5811,227.75" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="73.6694" x2="349.5811" y1="227.75" y2="227.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="257.9116" x="80.6694" y="222.6841">POST /student/course/{courseId}/enroll</text></g><g class="message" data-entity-1="part2" data-entity-2="part3" id="msg2"><polygon fill="#181818" points="542.687,252.8828,552.687,256.8828,542.687,260.8828,546.687,256.8828" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="355.5811" x2="548.687" y1="256.8828" y2="256.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142.9048" x="362.5811" y="251.8169">enroll(stuId, courseId)</text></g><g class="message" data-entity-1="part3" data-entity-2="part11" id="msg3"><polygon fill="#181818" points="2358.958,282.0156,2368.958,286.0156,2358.958,290.0156,2362.958,286.0156" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="554.687" x2="2364.958" y1="286.0156" y2="286.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="362.1084" x="561.687" y="280.9497">INSERT course_enrollment(stuId, courseId, progress=0)</text></g><g class="message" data-entity-1="part11" data-entity-2="part3" id="msg4"><polygon fill="#181818" points="565.687,311.1484,555.687,315.1484,565.687,319.1484,561.687,315.1484" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="559.687" x2="2369.958" y1="315.1484" y2="315.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15.4819" x="571.687" y="310.0825">ok</text></g><g class="message" data-entity-1="part3" data-entity-2="part2" id="msg5"><polygon fill="#181818" points="366.5811,340.2813,356.5811,344.2813,366.5811,348.2813,362.5811,344.2813" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="360.5811" x2="553.687" y1="344.2813" y2="344.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15.4819" x="372.5811" y="339.2153">ok</text></g><g class="message" data-entity-1="part2" data-entity-2="part1" id="msg6"><polygon fill="#181818" points="84.6694,369.4141,74.6694,373.4141,84.6694,377.4141,80.6694,373.4141" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="78.6694" x2="354.5811" y1="373.4141" y2="373.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207.3208" x="90.6694" y="368.3481">302 /student/course/{courseId}</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2695.9224" x="0" y="401.9805"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2695.9224" y1="401.9805" y2="401.9805"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2695.9224" y1="404.9805" y2="404.9805"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2;" width="146.647" x="1274.6377" y="391.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="128.1211" x="1280.6377" y="407.481">D&#233;marrer un quiz</text><g class="message" data-entity-1="part1" data-entity-2="part4" id="msg7"><polygon fill="#181818" points="732.9199,441.6797,742.9199,445.6797,732.9199,449.6797,736.9199,445.6797" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="73.6694" x2="738.9199" y1="445.6797" y2="445.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="388.248" x="80.6694" y="440.6138">GET /student/quiz/start?courseId=... (difficulty, nQuestions)</text></g><g class="message" data-entity-1="part4" data-entity-2="part12" id="msg8"><polygon fill="#181818" points="2596.2383,470.8125,2606.2383,474.8125,2596.2383,478.8125,2600.2383,474.8125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="744.9199" x2="2602.2383" y1="474.8125" y2="474.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198.834" x="751.9199" y="469.7466">render student/quiz_start.html</text></g><g class="message" data-entity-1="part12" data-entity-2="part1" id="msg9"><polygon fill="#181818" points="84.6694,499.9453,74.6694,503.9453,84.6694,507.9453,80.6694,503.9453" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="78.6694" x2="2607.2383" y1="503.9453" y2="503.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36.1753" x="90.6694" y="498.8794">HTML</text></g><g class="message" data-entity-1="part1" data-entity-2="part4" id="msg10"><polygon fill="#181818" points="732.9199,529.0781,742.9199,533.0781,732.9199,537.0781,736.9199,533.0781" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="73.6694" x2="738.9199" y1="533.0781" y2="533.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266.8174" x="80.6694" y="528.0122">POST /student/quiz/start (QuizStartForm)</text></g><g class="message" data-entity-1="part4" data-entity-2="part5" id="msg11"><polygon fill="#181818" points="1133.8057,558.2109,1143.8057,562.2109,1133.8057,566.2109,1137.8057,562.2109" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="744.9199" x2="1139.8057" y1="562.2109" y2="562.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="376.8857" x="751.9199" y="557.145">generateQuiz(courseId, chapterId?, difficulty, nQuestions)</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2695.9224" x="0" y="590.7773"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2695.9224" y1="590.7773" y2="590.7773"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2695.9224" y1="593.7773" y2="593.7773"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2;" width="198.209" x="1248.8567" y="580.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="179.6831" x="1254.8567" y="596.2778">R&#233;cup&#233;rer contexte RAG</text><g class="message" data-entity-1="part5" data-entity-2="part7" id="msg12"><polygon fill="#181818" points="1614.4146,630.4766,1624.4146,634.4766,1614.4146,638.4766,1618.4146,634.4766" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1145.8057" x2="1620.4146" y1="634.4766" y2="634.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="349.7495" x="1152.8057" y="629.4106">findTopKBySimilarity(courseId, query=learning goals)</text></g><g class="message" data-entity-1="part7" data-entity-2="part11" id="msg13"><polygon fill="#181818" points="2358.958,659.6094,2368.958,663.6094,2358.958,667.6094,2362.958,663.6094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1626.4146" x2="2364.958" y1="663.6094" y2="663.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="377.2666" x="1633.4146" y="658.5435">SELECT course_chunk ORDER BY cosine_similarity LIMIT K</text></g><g class="message" data-entity-1="part11" data-entity-2="part7" id="msg14"><polygon fill="#181818" points="1637.4146,688.7422,1627.4146,692.7422,1637.4146,696.7422,1633.4146,692.7422" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1631.4146" x2="2369.958" y1="692.7422" y2="692.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80.1265" x="1643.4146" y="687.6763">topK chunks</text></g><g class="message" data-entity-1="part7" data-entity-2="part5" id="msg15"><polygon fill="#181818" points="1156.8057,717.875,1146.8057,721.875,1156.8057,725.875,1152.8057,721.875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1150.8057" x2="1625.4146" y1="721.875" y2="721.875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105.1045" x="1162.8057" y="716.8091">relevantContext</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2695.9224" x="0" y="750.4414"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2695.9224" y1="750.4414" y2="750.4414"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2695.9224" y1="753.4414" y2="753.4414"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2;" width="256.9185" x="1219.502" y="739.875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="238.3926" x="1225.502" y="755.9419">Appel IA pour g&#233;n&#233;rer questions</text><g class="message" data-entity-1="part5" data-entity-2="part8" id="msg16"><polygon fill="#181818" points="1785.1719,790.1406,1795.1719,794.1406,1785.1719,798.1406,1789.1719,794.1406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1145.8057" x2="1791.1719" y1="794.1406" y2="794.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210.4185" x="1152.8057" y="789.0747">chat(prompt + relevantContext)</text></g><g class="message" data-entity-1="part8" data-entity-2="part5" id="msg17"><polygon fill="#181818" points="1156.8057,819.2734,1146.8057,823.2734,1156.8057,827.2734,1152.8057,823.2734" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1150.8057" x2="1796.1719" y1="823.2734" y2="823.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="329.2148" x="1162.8057" y="818.2075">JSON/Text questions (MCQ + OpenEnded possible)</text></g><g class="message" data-entity-1="part5" data-entity-2="part5" id="msg18"><line style="stroke:#181818;stroke-width:1;" x1="1145.8057" x2="1187.8057" y1="852.4063" y2="852.4063"/><line style="stroke:#181818;stroke-width:1;" x1="1187.8057" x2="1187.8057" y1="852.4063" y2="865.4063"/><line style="stroke:#181818;stroke-width:1;" x1="1146.8057" x2="1187.8057" y1="865.4063" y2="865.4063"/><polygon fill="#181818" points="1156.8057,861.4063,1146.8057,865.4063,1156.8057,869.4063,1152.8057,865.4063" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122.002" x="1152.8057" y="847.3403">parseAiResponse()</text></g><g class="message" data-entity-1="part5" data-entity-2="part11" id="msg19"><polygon fill="#181818" points="2358.958,890.5391,2368.958,894.5391,2358.958,898.5391,2362.958,894.5391" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1145.8057" x2="2364.958" y1="894.5391" y2="894.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209.3457" x="1152.8057" y="889.4731">INSERT quiz + quiz_question(...)</text></g><g class="message" data-entity-1="part11" data-entity-2="part5" id="msg20"><polygon fill="#181818" points="1156.8057,919.6719,1146.8057,923.6719,1156.8057,927.6719,1152.8057,923.6719" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1150.8057" x2="2369.958" y1="923.6719" y2="923.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39.0127" x="1162.8057" y="918.606">quizId</text></g><g class="message" data-entity-1="part5" data-entity-2="part4" id="msg21"><polygon fill="#181818" points="755.9199,948.8047,745.9199,952.8047,755.9199,956.8047,751.9199,952.8047" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="749.9199" x2="1144.8057" y1="952.8047" y2="952.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39.0127" x="761.9199" y="947.7388">quizId</text></g><g class="message" data-entity-1="part4" data-entity-2="part6" id="msg22"><polygon fill="#181818" points="1351.8403,977.9375,1361.8403,981.9375,1351.8403,985.9375,1355.8403,981.9375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="744.9199" x2="1357.8403" y1="981.9375" y2="981.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172.9927" x="751.9199" y="976.8716">startAttempt(stuId, quizId)</text></g><g class="message" data-entity-1="part6" data-entity-2="part11" id="msg23"><polygon fill="#181818" points="2358.958,1007.0703,2368.958,1011.0703,2358.958,1015.0703,2362.958,1011.0703" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1363.8403" x2="2364.958" y1="1011.0703" y2="1011.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="288.6978" x="1370.8403" y="1006.0044">INSERT quiz_attempt(status=IN_PROGRESS)</text></g><g class="message" data-entity-1="part11" data-entity-2="part6" id="msg24"><polygon fill="#181818" points="1374.8403,1036.2031,1364.8403,1040.2031,1374.8403,1044.2031,1370.8403,1040.2031" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1368.8403" x2="2369.958" y1="1040.2031" y2="1040.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64.2573" x="1380.8403" y="1035.1372">attemptId</text></g><g class="message" data-entity-1="part6" data-entity-2="part4" id="msg25"><polygon fill="#181818" points="755.9199,1065.3359,745.9199,1069.3359,755.9199,1073.3359,751.9199,1069.3359" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="749.9199" x2="1362.8403" y1="1069.3359" y2="1069.3359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64.2573" x="761.9199" y="1064.27">attemptId</text></g><g class="message" data-entity-1="part4" data-entity-2="part12" id="msg26"><polygon fill="#181818" points="2596.2383,1094.4688,2606.2383,1098.4688,2596.2383,1102.4688,2600.2383,1098.4688" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="744.9199" x2="2602.2383" y1="1098.4688" y2="1098.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274.3584" x="751.9199" y="1093.4028">render student/quiz_take.html (questions)</text></g><g class="message" data-entity-1="part12" data-entity-2="part1" id="msg27"><polygon fill="#181818" points="84.6694,1123.6016,74.6694,1127.6016,84.6694,1131.6016,80.6694,1127.6016" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="78.6694" x2="2607.2383" y1="1127.6016" y2="1127.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36.1753" x="90.6694" y="1122.5356">HTML</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2695.9224" x="0" y="1156.168"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2695.9224" y1="1156.168" y2="1156.168"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2695.9224" y1="1159.168" y2="1159.168"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2;" width="173.7324" x="1261.095" y="1145.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="155.2065" x="1267.095" y="1161.6685">Soumission r&#233;ponses</text><g class="message" data-entity-1="part1" data-entity-2="part4" id="msg28"><polygon fill="#181818" points="732.9199,1195.8672,742.9199,1199.8672,732.9199,1203.8672,736.9199,1199.8672" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="73.6694" x2="738.9199" y1="1199.8672" y2="1199.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="325.9775" x="80.6694" y="1194.8013">POST /student/quiz/{attemptId}/submit (answers)</text></g><g class="message" data-entity-1="part4" data-entity-2="part6" id="msg29"><polygon fill="#181818" points="1351.8403,1225,1361.8403,1229,1351.8403,1233,1355.8403,1229" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="744.9199" x2="1357.8403" y1="1229" y2="1229"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235.6821" x="751.9199" y="1223.9341">submitAnswers(attemptId, answers)</text></g><path d="M1266.0918,1244 L1342.7158,1244 L1342.7158,1251.1328 L1332.7158,1261.1328 L1266.0918,1261.1328 L1266.0918,1244" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="280" style="stroke:#000000;stroke-width:1.5;" width="1269.4624" x="1266.0918" y="1244"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31.624" x="1281.0918" y="1257.0669">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="109.5649" x="1357.7158" y="1256.2104">[for each answer]</text><path d="M1276.0918,1268.1328 L1340.5347,1268.1328 L1340.5347,1275.2656 L1330.5347,1285.2656 L1276.0918,1285.2656 L1276.0918,1268.1328" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="248.8672" style="stroke:#000000;stroke-width:1.5;" width="1249.4624" x="1276.0918" y="1268.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="1291.0918" y="1281.1997">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="38.4248" x="1355.5347" y="1280.3433">[MCQ]</text><g class="message" data-entity-1="part6" data-entity-2="part6" id="msg30"><line style="stroke:#181818;stroke-width:1;" x1="1363.8403" x2="1405.8403" y1="1306.3984" y2="1306.3984"/><line style="stroke:#181818;stroke-width:1;" x1="1405.8403" x2="1405.8403" y1="1306.3984" y2="1319.3984"/><line style="stroke:#181818;stroke-width:1;" x1="1364.8403" x2="1405.8403" y1="1319.3984" y2="1319.3984"/><polygon fill="#181818" points="1374.8403,1315.3984,1364.8403,1319.3984,1374.8403,1323.3984,1370.8403,1319.3984" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237.5547" x="1370.8403" y="1301.3325">auto-grade (compare correctChoice)</text></g><g class="message" data-entity-1="part6" data-entity-2="part11" id="msg31"><polygon fill="#181818" points="2358.958,1344.5313,2368.958,1348.5313,2358.958,1352.5313,2362.958,1348.5313" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1363.8403" x2="2364.958" y1="1348.5313" y2="1348.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="311.4351" x="1370.8403" y="1343.4653">INSERT quiz_attempt_answer(is_correct, points)</text></g><g class="message" data-entity-1="part11" data-entity-2="part6" id="msg32"><polygon fill="#181818" points="1374.8403,1373.6641,1364.8403,1377.6641,1374.8403,1381.6641,1370.8403,1377.6641" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1368.8403" x2="2369.958" y1="1377.6641" y2="1377.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15.4819" x="1380.8403" y="1372.5981">ok</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="1276.0918" x2="2525.5542" y1="1386.6641" y2="1386.6641"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="92.1841" x="1281.0918" y="1396.8745">[OPEN_ENDED]</text><g class="message" data-entity-1="part6" data-entity-2="part8" id="msg33"><polygon fill="#181818" points="1785.1719,1417.6016,1795.1719,1421.6016,1785.1719,1425.6016,1789.1719,1421.6016" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1363.8403" x2="1791.1719" y1="1421.6016" y2="1421.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="372.7217" x="1370.8403" y="1416.5356">gradeOpenEnded(question, studentText, gradingCriteria)</text></g><g class="message" data-entity-1="part8" data-entity-2="part6" id="msg34"><polygon fill="#181818" points="1374.8403,1446.7344,1364.8403,1450.7344,1374.8403,1454.7344,1370.8403,1450.7344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1368.8403" x2="1796.1719" y1="1450.7344" y2="1450.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150.249" x="1380.8403" y="1445.6685">ai_score + ai_feedback</text></g><g class="message" data-entity-1="part6" data-entity-2="part11" id="msg35"><polygon fill="#181818" points="2358.958,1475.8672,2368.958,1479.8672,2358.958,1483.8672,2362.958,1479.8672" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1363.8403" x2="2364.958" y1="1479.8672" y2="1479.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="427.2861" x="1370.8403" y="1474.8013">INSERT quiz_attempt_answer(text_answer, ai_score, ai_feedback)</text></g><g class="message" data-entity-1="part11" data-entity-2="part6" id="msg36"><polygon fill="#181818" points="1374.8403,1505,1364.8403,1509,1374.8403,1513,1370.8403,1509" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1368.8403" x2="2369.958" y1="1509" y2="1509"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15.4819" x="1380.8403" y="1503.9341">ok</text></g><g class="message" data-entity-1="part6" data-entity-2="part6" id="msg37"><line style="stroke:#181818;stroke-width:1;" x1="1363.8403" x2="1405.8403" y1="1552.1328" y2="1552.1328"/><line style="stroke:#181818;stroke-width:1;" x1="1405.8403" x2="1405.8403" y1="1552.1328" y2="1565.1328"/><line style="stroke:#181818;stroke-width:1;" x1="1364.8403" x2="1405.8403" y1="1565.1328" y2="1565.1328"/><polygon fill="#181818" points="1374.8403,1561.1328,1364.8403,1565.1328,1374.8403,1569.1328,1370.8403,1565.1328" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248.5742" x="1370.8403" y="1547.0669">compute totalScore + PASSED/FAILED</text></g><g class="message" data-entity-1="part6" data-entity-2="part11" id="msg38"><polygon fill="#181818" points="2358.958,1590.2656,2368.958,1594.2656,2358.958,1598.2656,2362.958,1594.2656" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1363.8403" x2="2364.958" y1="1594.2656" y2="1594.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="427.248" x="1370.8403" y="1589.1997">UPDATE quiz_attempt(score, status=PASSED/FAILED, finished_at)</text></g><g class="message" data-entity-1="part11" data-entity-2="part6" id="msg39"><polygon fill="#181818" points="1374.8403,1619.3984,1364.8403,1623.3984,1374.8403,1627.3984,1370.8403,1623.3984" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1368.8403" x2="2369.958" y1="1623.3984" y2="1623.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15.4819" x="1380.8403" y="1618.3325">ok</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2695.9224" x="0" y="1651.9648"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2695.9224" y1="1651.9648" y2="1651.9648"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2695.9224" y1="1654.9648" y2="1654.9648"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2;" width="211.9199" x="1242.0012" y="1641.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="193.394" x="1248.0012" y="1657.4653">Progression + Notification</text><g class="message" data-entity-1="part6" data-entity-2="part9" id="msg40"><polygon fill="#181818" points="1955.4336,1691.6641,1965.4336,1695.6641,1955.4336,1699.6641,1959.4336,1695.6641" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1363.8403" x2="1961.4336" y1="1695.6641" y2="1695.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="379.7104" x="1370.8403" y="1690.5981">recordActivity(stuId, courseId, "QUIZ_COMPLETED", score)</text></g><g class="message" data-entity-1="part9" data-entity-2="part11" id="msg41"><polygon fill="#181818" points="2358.958,1720.7969,2368.958,1724.7969,2358.958,1728.7969,2362.958,1724.7969" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1967.4336" x2="2364.958" y1="1724.7969" y2="1724.7969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="322.8989" x="1974.4336" y="1719.731">UPSERT student_progress (xp += ..., stats += ...)</text></g><g class="message" data-entity-1="part11" data-entity-2="part9" id="msg42"><polygon fill="#181818" points="1978.4336,1749.9297,1968.4336,1753.9297,1978.4336,1757.9297,1974.4336,1753.9297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1972.4336" x2="2369.958" y1="1753.9297" y2="1753.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15.4819" x="1984.4336" y="1748.8638">ok</text></g><g class="message" data-entity-1="part9" data-entity-2="part6" id="msg43"><polygon fill="#181818" points="1374.8403,1779.0625,1364.8403,1783.0625,1374.8403,1787.0625,1370.8403,1783.0625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1368.8403" x2="1966.4336" y1="1783.0625" y2="1783.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15.4819" x="1380.8403" y="1777.9966">ok</text></g><g class="message" data-entity-1="part6" data-entity-2="part10" id="msg44"><polygon fill="#181818" points="2129.1987,1808.1953,2139.1987,1812.1953,2129.1987,1816.1953,2133.1987,1812.1953" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1363.8403" x2="2135.1987" y1="1812.1953" y2="1812.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="355.4307" x="1370.8403" y="1807.1294">notifyUser(stuId, type=GRADE, message="Quiz not&#233;")</text></g><g class="message" data-entity-1="part10" data-entity-2="part11" id="msg45"><polygon fill="#181818" points="2358.958,1837.3281,2368.958,1841.3281,2358.958,1845.3281,2362.958,1841.3281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="2141.1987" x2="2364.958" y1="1841.3281" y2="1841.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205.7593" x="2148.1987" y="1836.2622">INSERT notification(read=false)</text></g><g class="message" data-entity-1="part11" data-entity-2="part10" id="msg46"><polygon fill="#181818" points="2152.1987,1866.4609,2142.1987,1870.4609,2152.1987,1874.4609,2148.1987,1870.4609" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="2146.1987" x2="2369.958" y1="1870.4609" y2="1870.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15.4819" x="2158.1987" y="1865.395">ok</text></g><g class="message" data-entity-1="part6" data-entity-2="part4" id="msg47"><polygon fill="#181818" points="755.9199,1895.5938,745.9199,1899.5938,755.9199,1903.5938,751.9199,1899.5938" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="749.9199" x2="1362.8403" y1="1899.5938" y2="1899.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76.1528" x="761.9199" y="1894.5278">results DTO</text></g><g class="message" data-entity-1="part4" data-entity-2="part12" id="msg48"><polygon fill="#181818" points="2596.2383,1924.7266,2606.2383,1928.7266,2596.2383,1932.7266,2600.2383,1928.7266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="744.9199" x2="2602.2383" y1="1928.7266" y2="1928.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205.6196" x="751.9199" y="1923.6606">render student/quiz_result.html</text></g><g class="message" data-entity-1="part12" data-entity-2="part1" id="msg49"><polygon fill="#181818" points="84.6694,1953.8594,74.6694,1957.8594,84.6694,1961.8594,80.6694,1957.8594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="78.6694" x2="2607.2383" y1="1957.8594" y2="1957.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36.1753" x="90.6694" y="1952.7935">HTML</text></g><!--SRC=[ZLRRSjis47tdL-peYQefAssdBvfXCxJ4AAnbtIZtDfdHm2GaOKoHD03QKJFvWFv5N_qT-h4k0DuasqqVuWZWxjcpTqWc4mf-N7p8-9P23uv_oo9c99K3258HSPPBbgKGPGKNS06BWlq5WGVsqXjVZEcUfQoBrzDC4Yrt0NEURJaL0a-MHIAPSUZKe61VyUn9KDxj014Ghcwjd7398fQhhvqGvMWgXyeQ7MQfv5cIK6w4XyDJOIFbfqfcZreXvOyiebfuw8Ul8Yl-vxYBCrmbusqRm4-fZIVAYQJQ_Gj0SK4zjgGYpr91ZJCBBto9qq0GAUa-bwYzvIHcwRRK2bzpQhWhqlibpJF1C807LC-tZrG7Kx0zImXdyc00XXzlfzUd62Ol7XiZuoToqFpLJU_xovzwcuI8dL4TUy6hGQfIs93_VUw0m1IBCc_pCzQOVxPXaQw1TXgceHKJIUw8eD2PPq8YRhYO8A8kABgcTVOSUC1ucR_hXu8AXULyIlMv35xvjJojIIgUA4SPONYlyvAu0scBaE4ykZgblDeTzZIXP8Da55o2mHBz4gd_dL7wDV1_iopNFUc5upzGL1sH5tS9Yy1rBQnbwFsigdG0yrcuWXhBkDh_OluFugzzuxM5iae5QtK0vif6dI1se1BjMlXHoOoki1-deRzSmOl8dIivKCN1VTUrHbVGgunazmQluebdpK6TLxS3-F7T3_z1MmTYT7pU4yufLp5GsMZxla3CiTzoNGdW0UF-le9nBoylmOxP1jDJ9FA0kLgKsHPT2o4Kaehx03XDOpJK1bjhiCkTt2UM4cguVrpTJAmJ9gTPQAY0hJjJ_SIfjw-DOWCFeDtfTXFHQ4ToINaGltVWBUugFClZSrJansSLe0Zd3FqiAU2iL552V9rkrR03sB0qNcNvzTKXh3kwPH0xW1zSh4-Uugo0RKOIDA5rgte8_Oa_hEiXKYC3PikHluIhF_1Mi9Ikcsa1a-0cMC5rNH26XaGAe7L5XLw5WcDxF18rZRKVsZylpscY5a2ELc5xV4wDhrN3YfQZE5u6Ad3Indeqe-yCickXJ6Fmbt0sxQ_mlWLdtmmNg3ZBQUfZDSHe67VBNK8ntgKThNisakrkzRNLEGzcUfzC61lBiMuIZQG-1t69NjLIULbL2ehfKlBC9Aewq4YXwTSiLsFBLeEq46umNS-Ni_7I3yE600ANOcXjqIBGt7wpHIIvfxf3m7veglErRi64XbcnPtfR0py-wzY9yvP-fP6-r7o-zaLnjsVOLMOSDqsiewI_UUQBNIivK0jRIPRbiC7DHacqA-yj0998mDpZBm0JJnsSGcOzjK0fOBFiCUiKIntdKII7kmpNJhUby4O2ohrXCx4kLN5YPYp5xQQLMxd00Gb04znUixa_NVlJaJzg6T0LhjdKzLc7tAcIeWhQgPR-45kHSaQCfRhwbMTiBP0EnGB5dnjAupiItVz_RrG_LHkn1dFQM6zubyQM-cSrGLQ1BN1kINpL9M59Qkw5eJ_gV_222SQWeNGx7tah_wp2ZUsoq4yq7JNucDZH6ALFwXxPg89ilH_DmxBUutgqQBlu_b2bZrPYBvBiKOtE5qkmixWD_bmFPpVpYR_oHntaesXXUSvRv7KypzyFO7_EuS85d0tbkwSyrOGr0xK-v-690uRV54_w1NAunRTkHKqUSkgEbzx8Ts2FLiYMklgHg6IFpvskDJrFTFiPOtDAOdU3Uu3MDAOjirMteWEuc_31ivfzUrOOuRVswRy0]--></g></svg>