<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1444px" preserveAspectRatio="none" style="width:2124px;height:1444px;background:#FFFFFF;" version="1.1" viewBox="0 0 2124 1444" width="2124px" zoomAndPan="magnify"><title>EduForge - Prof: Cr&#233;ation de cours + Upload + Extraction + Indexation RAG (pgvector + embeddings)</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="802.6826" x="657.0718" y="27.9951">EduForge - Prof: Cr&#233;ation de cours + Upload + Extraction + Indexation RAG (pgvector + embeddings)</text><rect fill="none" height="173.1406" style="stroke:#000000;stroke-width:1.5;" width="203.4341" x="875.4131" y="648.3125"/><rect fill="none" height="133.6641" style="stroke:#000000;stroke-width:1.5;" width="919.2764" x="1053.5635" y="1095.5156"/><g class="participant-lifeline" data-entity-uid="part1" data-qualified-name="PROF" id="part1-lifeline"><g><title>Professeur .Browser.</title><rect fill="#000000" fill-opacity="0.00000" height="1196.3906" width="8" x="77.2744" y="137.1875"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="81" x2="81" y1="137.1875" y2="1333.5781"/></g></g><g class="participant-lifeline" data-entity-uid="part2" data-qualified-name="PCC" id="part2-lifeline"><g><title>ProfCourseController</title><rect fill="#000000" fill-opacity="0.00000" height="1196.3906" width="8" x="435.0088" y="137.1875"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="438.1377" x2="438.1377" y1="137.1875" y2="1333.5781"/></g></g><g class="participant-lifeline" data-entity-uid="part3" data-qualified-name="CS" id="part3-lifeline"><g><title>CourseService</title><rect fill="#000000" fill-opacity="0.00000" height="1196.3906" width="8" x="633.106" y="137.1875"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="636.7969" x2="636.7969" y1="137.1875" y2="1333.5781"/></g></g><g class="participant-lifeline" data-entity-uid="part4" data-qualified-name="CHS" id="part4-lifeline"><g><title>CourseChapterService</title><rect fill="#000000" fill-opacity="0.00000" height="1196.3906" width="8" x="785.7104" y="137.1875"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="789.415" x2="789.415" y1="137.1875" y2="1333.5781"/></g></g><g class="participant-lifeline" data-entity-uid="part5" data-qualified-name="TEX" id="part5-lifeline"><g><title>TextExtractionService</title><rect fill="#000000" fill-opacity="0.00000" height="1196.3906" width="8" x="965.4883" y="137.1875"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="969.4131" x2="969.4131" y1="137.1875" y2="1333.5781"/></g></g><g class="participant-lifeline" data-entity-uid="part6" data-qualified-name="RAG" id="part6-lifeline"><g><title>RagIndexService</title><rect fill="#000000" fill-opacity="0.00000" height="1196.3906" width="8" x="1169.4683" y="137.1875"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1172.5635" x2="1172.5635" y1="137.1875" y2="1333.5781"/></g></g><g class="participant-lifeline" data-entity-uid="part7" data-qualified-name="EMB" id="part7-lifeline"><g><title>GeminiEmbeddingService</title><rect fill="#000000" fill-opacity="0.00000" height="1196.3906" width="8" x="1386.8228" y="137.1875"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1390.373" x2="1390.373" y1="137.1875" y2="1333.5781"/></g></g><g class="participant-lifeline" data-entity-uid="part8" data-qualified-name="FS" id="part8-lifeline"><g><title>Storage</title><rect fill="#000000" fill-opacity="0.00000" height="1196.3906" width="8" x="1581.752" y="137.1875"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1585.2725" x2="1585.2725" y1="137.1875" y2="1333.5781"/></g></g><g class="participant-lifeline" data-entity-uid="part9" data-qualified-name="DB" id="part9-lifeline"><g><title>PostgreSQL</title><rect fill="#000000" fill-opacity="0.00000" height="1196.3906" width="8" x="1819.0356" y="137.1875"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1822.2314" x2="1822.2314" y1="137.1875" y2="1333.5781"/></g></g><g class="participant-lifeline" data-entity-uid="part10" data-qualified-name="VIEW" id="part10-lifeline"><g><title>Thymeleaf</title><rect fill="#000000" fill-opacity="0.00000" height="1196.3906" width="8" x="2038.833" y="137.1875"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="2041.8398" x2="2041.8398" y1="137.1875" y2="1333.5781"/></g></g><g class="participant participant-head" data-entity-uid="part1" data-qualified-name="PROF" id="part1-head"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146.5488" x="5" y="133.8857">Professeur (Browser)</text><ellipse cx="81.2744" cy="69.3906" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M81.2744,77.3906 L81.2744,104.3906 M68.2744,85.3906 L94.2744,85.3906 M81.2744,104.3906 L68.2744,119.3906 M81.2744,104.3906 L94.2744,119.3906" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-entity-uid="part1" data-qualified-name="PROF" id="part1-tail"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146.5488" x="5" y="1345.5732">Professeur (Browser)</text><ellipse cx="81.2744" cy="1357.375" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M81.2744,1365.375 L81.2744,1392.375 M68.2744,1373.375 L94.2744,1373.375 M81.2744,1392.375 L68.2744,1407.375 M81.2744,1392.375 L94.2744,1407.375" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-entity-uid="part2" data-qualified-name="PCC" id="part2-head"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="159.7422" x="359.1377" y="105.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145.7422" x="366.1377" y="125.8857">ProfCourseController</text></g><g class="participant participant-tail" data-entity-uid="part2" data-qualified-name="PCC" id="part2-tail"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="159.7422" x="359.1377" y="1332.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145.7422" x="366.1377" y="1352.5732">ProfCourseController</text></g><g class="participant participant-head" data-entity-uid="part3" data-qualified-name="CS" id="part3-head"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="114.6182" x="579.7969" y="105.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.6182" x="586.7969" y="125.8857">CourseService</text></g><g class="participant participant-tail" data-entity-uid="part3" data-qualified-name="CS" id="part3-tail"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="114.6182" x="579.7969" y="1332.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.6182" x="586.7969" y="1352.5732">CourseService</text></g><g class="participant participant-head" data-entity-uid="part4" data-qualified-name="CHS" id="part4-head"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170.5908" x="704.415" y="105.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156.5908" x="711.415" y="125.8857">CourseChapterService</text></g><g class="participant participant-tail" data-entity-uid="part4" data-qualified-name="CHS" id="part4-tail"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170.5908" x="704.415" y="1332.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156.5908" x="711.415" y="1352.5732">CourseChapterService</text></g><g class="participant participant-head" data-entity-uid="part5" data-qualified-name="TEX" id="part5-head"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="168.1504" x="885.4131" y="89.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154.1504" x="892.4131" y="109.5889">TextExtractionService</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.9619" x="923.0073" y="125.8857">(PDFBox/POI)</text></g><g class="participant participant-tail" data-entity-uid="part5" data-qualified-name="TEX" id="part5-tail"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="168.1504" x="885.4131" y="1332.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154.1504" x="892.4131" y="1352.5732">TextExtractionService</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.9619" x="923.0073" y="1368.8701">(PDFBox/POI)</text></g><g class="participant participant-head" data-entity-uid="part6" data-qualified-name="RAG" id="part6-head"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="219.8096" x="1063.5635" y="89.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117.7217" x="1114.6074" y="109.5889">RagIndexService</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="205.8096" x="1070.5635" y="125.8857">(chunking + TF-IDF + cosine)</text></g><g class="participant participant-tail" data-entity-uid="part6" data-qualified-name="RAG" id="part6-tail"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="219.8096" x="1063.5635" y="1332.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117.7217" x="1114.6074" y="1352.5732">RagIndexService</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="205.8096" x="1070.5635" y="1368.8701">(chunking + TF-IDF + cosine)</text></g><g class="participant participant-head" data-entity-uid="part7" data-qualified-name="EMB" id="part7-head"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="194.8994" x="1293.373" y="89.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180.8994" x="1300.373" y="109.5889">GeminiEmbeddingService</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154.7998" x="1313.4229" y="125.8857">(text-embedding-004)</text></g><g class="participant participant-tail" data-entity-uid="part7" data-qualified-name="EMB" id="part7-tail"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="194.8994" x="1293.373" y="1332.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180.8994" x="1300.373" y="1352.5732">GeminiEmbeddingService</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154.7998" x="1313.4229" y="1368.8701">(text-embedding-004)</text></g><g class="participant participant-head" data-entity-uid="part8" data-qualified-name="FS" id="part8-head"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="174.959" x="1498.2725" y="89.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54.7764" x="1558.3638" y="109.5889">Storage</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160.959" x="1505.2725" y="125.8857">(data/uploads/courses)</text></g><g class="participant participant-tail" data-entity-uid="part8" data-qualified-name="FS" id="part8-tail"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="174.959" x="1498.2725" y="1332.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54.7764" x="1558.3638" y="1352.5732">Storage</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160.959" x="1505.2725" y="1368.8701">(data/uploads/courses)</text></g><g class="participant participant-head" data-entity-uid="part9" data-qualified-name="DB" id="part9-head"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.7529" x="1779.6592" y="101.292">PostgreSQL</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177.8438" x="1731.1138" y="117.5889">(course, course_material,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="273.6084" x="1683.2314" y="133.8857">course_chapter, course_chunk[vector])</text><path d="M1805.0356,52.2969 C1805.0356,42.2969 1823.0356,42.2969 1823.0356,42.2969 C1823.0356,42.2969 1841.0356,42.2969 1841.0356,52.2969 L1841.0356,78.2969 C1841.0356,88.2969 1823.0356,88.2969 1823.0356,88.2969 C1823.0356,88.2969 1805.0356,88.2969 1805.0356,78.2969 L1805.0356,52.2969" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M1805.0356,52.2969 C1805.0356,62.2969 1823.0356,62.2969 1823.0356,62.2969 C1823.0356,62.2969 1841.0356,62.2969 1841.0356,52.2969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-entity-uid="part9" data-qualified-name="DB" id="part9-tail"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80.7529" x="1779.6592" y="1345.5732">PostgreSQL</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="177.8438" x="1731.1138" y="1361.8701">(course, course_material,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="273.6084" x="1683.2314" y="1378.167">course_chapter, course_chunk[vector])</text><path d="M1805.0356,1391.4688 C1805.0356,1381.4688 1823.0356,1381.4688 1823.0356,1381.4688 C1823.0356,1381.4688 1841.0356,1381.4688 1841.0356,1391.4688 L1841.0356,1417.4688 C1841.0356,1427.4688 1823.0356,1427.4688 1823.0356,1427.4688 C1823.0356,1427.4688 1805.0356,1427.4688 1805.0356,1417.4688 L1805.0356,1391.4688" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M1805.0356,1391.4688 C1805.0356,1401.4688 1823.0356,1401.4688 1823.0356,1401.4688 C1823.0356,1401.4688 1841.0356,1401.4688 1841.0356,1391.4688" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-entity-uid="part10" data-qualified-name="VIEW" id="part10-head"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="139.9863" x="1972.8398" y="89.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.9717" x="2005.8472" y="109.5889">Thymeleaf</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.9863" x="1979.8398" y="125.8857">(templates/prof/*)</text></g><g class="participant participant-tail" data-entity-uid="part10" data-qualified-name="VIEW" id="part10-tail"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="139.9863" x="1972.8398" y="1332.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.9717" x="2005.8472" y="1352.5732">Thymeleaf</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.9863" x="1979.8398" y="1368.8701">(templates/prof/*)</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2117.8262" x="0" y="167.7539"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2117.8262" y1="167.7539" y2="167.7539"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2117.8262" y1="170.7539" y2="170.7539"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2;" width="126.125" x="995.8506" y="157.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="107.5991" x="1001.8506" y="173.2544">Cr&#233;er un cours</text><g class="message" data-entity-1="part1" data-entity-2="part2" id="msg1"><polygon fill="#181818" points="427.0088,207.4531,437.0088,211.4531,427.0088,215.4531,431.0088,211.4531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="81.2744" x2="433.0088" y1="211.4531" y2="211.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146.7261" x="88.2744" y="206.3872">GET /prof/courses/new</text></g><g class="message" data-entity-1="part2" data-entity-2="part10" id="msg2"><polygon fill="#181818" points="2030.833,236.5859,2040.833,240.5859,2030.833,244.5859,2034.833,240.5859" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="439.0088" x2="2036.833" y1="240.5859" y2="240.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186.4751" x="446.0088" y="235.52">render prof/course_edit.html</text></g><g class="message" data-entity-1="part10" data-entity-2="part1" id="msg3"><polygon fill="#181818" points="92.2744,265.7188,82.2744,269.7188,92.2744,273.7188,88.2744,269.7188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="86.2744" x2="2041.833" y1="269.7188" y2="269.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36.1753" x="98.2744" y="264.6528">HTML</text></g><g class="message" data-entity-1="part1" data-entity-2="part2" id="msg4"><polygon fill="#181818" points="427.0088,294.8516,437.0088,298.8516,427.0088,302.8516,431.0088,298.8516" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="81.2744" x2="433.0088" y1="298.8516" y2="298.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260.0952" x="88.2744" y="293.7856">POST /prof/courses (CourseCreateForm)</text></g><g class="message" data-entity-1="part2" data-entity-2="part3" id="msg5"><polygon fill="#181818" points="625.106,323.9844,635.106,327.9844,625.106,331.9844,629.106,327.9844" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="439.0088" x2="631.106" y1="327.9844" y2="327.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174.0972" x="446.0088" y="322.9185">createCourse(form, profId)</text></g><g class="message" data-entity-1="part3" data-entity-2="part9" id="msg6"><polygon fill="#181818" points="1811.0356,353.1172,1821.0356,357.1172,1811.0356,361.1172,1815.0356,357.1172" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="637.106" x2="1817.0356" y1="357.1172" y2="357.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="318.957" x="644.106" y="352.0513">INSERT course (status=DRAFT, owner_id=profId)</text></g><g class="message" data-entity-1="part9" data-entity-2="part3" id="msg7"><polygon fill="#181818" points="648.106,382.25,638.106,386.25,648.106,390.25,644.106,386.25" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="642.106" x2="1822.0356" y1="386.25" y2="386.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55.542" x="654.106" y="381.1841">courseId</text></g><g class="message" data-entity-1="part3" data-entity-2="part2" id="msg8"><polygon fill="#181818" points="450.0088,411.3828,440.0088,415.3828,450.0088,419.3828,446.0088,415.3828" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="444.0088" x2="636.106" y1="415.3828" y2="415.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55.542" x="456.0088" y="410.3169">courseId</text></g><g class="message" data-entity-1="part2" data-entity-2="part1" id="msg9"><polygon fill="#181818" points="92.2744,440.5156,82.2744,444.5156,92.2744,448.5156,88.2744,444.5156" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="86.2744" x2="438.0088" y1="444.5156" y2="444.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219.8638" x="98.2744" y="439.4497">302 /prof/courses/{courseId}/edit</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2117.8262" x="0" y="473.082"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2117.8262" y1="473.082" y2="473.082"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2117.8262" y1="476.082" y2="476.082"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2;" width="241.2144" x="938.3059" y="462.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="222.6885" x="944.3059" y="478.5825">Ajouter un chapitre / mat&#233;riau</text><g class="message" data-entity-1="part1" data-entity-2="part2" id="msg10"><polygon fill="#181818" points="427.0088,512.7813,437.0088,516.7813,427.0088,520.7813,431.0088,516.7813" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="81.2744" x2="433.0088" y1="516.7813" y2="516.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="333.7344" x="88.2744" y="511.7153">POST /prof/courses/{id}/chapters (metadata + file)</text></g><g class="message" data-entity-1="part2" data-entity-2="part4" id="msg11"><polygon fill="#181818" points="777.7104,541.9141,787.7104,545.9141,777.7104,549.9141,781.7104,545.9141" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="439.0088" x2="783.7104" y1="545.9141" y2="545.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199.9448" x="446.0088" y="540.8481">createChapter() + uploadFile()</text></g><g class="message" data-entity-1="part4" data-entity-2="part8" id="msg12"><polygon fill="#181818" points="1573.752,571.0469,1583.752,575.0469,1573.752,579.0469,1577.752,575.0469" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="789.7104" x2="1579.752" y1="575.0469" y2="575.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="269.7119" x="796.7104" y="569.981">save file (PDF/PPTX/TXT) -&gt; content_path</text></g><g class="message" data-entity-1="part8" data-entity-2="part4" id="msg13"><polygon fill="#181818" points="800.7104,600.1797,790.7104,604.1797,800.7104,608.1797,796.7104,604.1797" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="794.7104" x2="1584.752" y1="604.1797" y2="604.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70.5605" x="806.7104" y="599.1138">storedPath</text></g><g class="message" data-entity-1="part4" data-entity-2="part5" id="msg14"><polygon fill="#181818" points="957.4883,629.3125,967.4883,633.3125,957.4883,637.3125,961.4883,633.3125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="789.7104" x2="963.4883" y1="633.3125" y2="633.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.7778" x="796.7104" y="628.2466">extractText(storedPath)</text></g><path d="M875.4131,648.3125 L939.856,648.3125 L939.856,655.4453 L929.856,665.4453 L875.4131,665.4453 L875.4131,648.3125" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="173.1406" style="stroke:#000000;stroke-width:1.5;" width="203.4341" x="875.4131" y="648.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="890.4131" y="661.3794">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="34.7617" x="954.856" y="660.5229">[PDF]</text><g class="message" data-entity-1="part5" data-entity-2="part5" id="msg15"><line style="stroke:#181818;stroke-width:1;" x1="969.4883" x2="1011.4883" y1="686.5781" y2="686.5781"/><line style="stroke:#181818;stroke-width:1;" x1="1011.4883" x2="1011.4883" y1="686.5781" y2="699.5781"/><line style="stroke:#181818;stroke-width:1;" x1="970.4883" x2="1011.4883" y1="699.5781" y2="699.5781"/><polygon fill="#181818" points="980.4883,695.5781,970.4883,699.5781,980.4883,703.5781,976.4883,699.5781" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90.3589" x="976.4883" y="681.5122">PDFBox parse</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="875.4131" x2="1078.8472" y1="708.5781" y2="708.5781"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="42.1631" x="880.4131" y="718.7886">[PPTX]</text><g class="message" data-entity-1="part5" data-entity-2="part5" id="msg16"><line style="stroke:#181818;stroke-width:1;" x1="969.4883" x2="1011.4883" y1="743.5156" y2="743.5156"/><line style="stroke:#181818;stroke-width:1;" x1="1011.4883" x2="1011.4883" y1="743.5156" y2="756.5156"/><line style="stroke:#181818;stroke-width:1;" x1="970.4883" x2="1011.4883" y1="756.5156" y2="756.5156"/><polygon fill="#181818" points="980.4883,752.5156,970.4883,756.5156,980.4883,760.5156,976.4883,756.5156" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62.3721" x="976.4883" y="738.4497">POI parse</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="875.4131" x2="1078.8472" y1="765.5156" y2="765.5156"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="33.5425" x="880.4131" y="775.7261">[TXT]</text><g class="message" data-entity-1="part5" data-entity-2="part5" id="msg17"><line style="stroke:#181818;stroke-width:1;" x1="969.4883" x2="1011.4883" y1="800.4531" y2="800.4531"/><line style="stroke:#181818;stroke-width:1;" x1="1011.4883" x2="1011.4883" y1="800.4531" y2="813.4531"/><line style="stroke:#181818;stroke-width:1;" x1="970.4883" x2="1011.4883" y1="813.4531" y2="813.4531"/><polygon fill="#181818" points="980.4883,809.4531,970.4883,813.4531,980.4883,817.4531,976.4883,813.4531" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59.5791" x="976.4883" y="795.3872">read text</text></g><g class="message" data-entity-1="part5" data-entity-2="part4" id="msg18"><polygon fill="#181818" points="800.7104,845.5859,790.7104,849.5859,800.7104,853.5859,796.7104,849.5859" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="794.7104" x2="968.4883" y1="849.5859" y2="849.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.3237" x="806.7104" y="844.52">extractedText</text></g><g class="message" data-entity-1="part4" data-entity-2="part9" id="msg19"><polygon fill="#181818" points="1811.0356,874.7188,1821.0356,878.7188,1811.0356,882.7188,1815.0356,878.7188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="789.7104" x2="1817.0356" y1="878.7188" y2="878.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="481.5586" x="796.7104" y="873.6528">INSERT course_chapter + course_material(text_content, content_path, ...)</text></g><g class="message" data-entity-1="part9" data-entity-2="part4" id="msg20"><polygon fill="#181818" points="800.7104,903.8516,790.7104,907.8516,800.7104,911.8516,796.7104,907.8516" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="794.7104" x2="1822.0356" y1="907.8516" y2="907.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15.4819" x="806.7104" y="902.7856">ok</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2117.8262" x="0" y="936.418"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2117.8262" y1="936.418" y2="936.418"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2117.8262" y1="939.418" y2="939.418"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2;" width="132.022" x="992.9021" y="925.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="113.4961" x="998.9021" y="941.9185">Indexation RAG</text><g class="message" data-entity-1="part4" data-entity-2="part6" id="msg21"><polygon fill="#181818" points="1161.4683,976.1172,1171.4683,980.1172,1161.4683,984.1172,1165.4683,980.1172" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="789.7104" x2="1167.4683" y1="980.1172" y2="980.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146.8657" x="796.7104" y="975.0513">indexCourse(courseId)</text></g><g class="message" data-entity-1="part6" data-entity-2="part9" id="msg22"><polygon fill="#181818" points="1811.0356,1005.25,1821.0356,1009.25,1811.0356,1013.25,1815.0356,1009.25" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1173.4683" x2="1817.0356" y1="1009.25" y2="1009.25"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236.2344" x="1180.4683" y="1004.1841">SELECT all text_content for courseId</text></g><g class="message" data-entity-1="part9" data-entity-2="part6" id="msg23"><polygon fill="#181818" points="1184.4683,1034.3828,1174.4683,1038.3828,1184.4683,1042.3828,1180.4683,1038.3828" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1178.4683" x2="1822.0356" y1="1038.3828" y2="1038.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48.769" x="1190.4683" y="1033.3169">fullText</text></g><g class="message" data-entity-1="part6" data-entity-2="part6" id="msg24"><line style="stroke:#181818;stroke-width:1;" x1="1173.4683" x2="1215.4683" y1="1067.5156" y2="1067.5156"/><line style="stroke:#181818;stroke-width:1;" x1="1215.4683" x2="1215.4683" y1="1067.5156" y2="1080.5156"/><line style="stroke:#181818;stroke-width:1;" x1="1174.4683" x2="1215.4683" y1="1080.5156" y2="1080.5156"/><polygon fill="#181818" points="1184.4683,1076.5156,1174.4683,1080.5156,1184.4683,1084.5156,1180.4683,1080.5156" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180.8638" x="1180.4683" y="1062.4497">chunkText() + TF-IDF terms</text></g><path d="M1053.5635,1095.5156 L1130.1875,1095.5156 L1130.1875,1102.6484 L1120.1875,1112.6484 L1053.5635,1112.6484 L1053.5635,1095.5156" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="133.6641" style="stroke:#000000;stroke-width:1.5;" width="919.2764" x="1053.5635" y="1095.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31.624" x="1068.5635" y="1108.5825">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="102.0454" x="1145.1875" y="1107.7261">[for each chunk]</text><g class="message" data-entity-1="part6" data-entity-2="part7" id="msg25"><polygon fill="#181818" points="1378.8228,1129.7813,1388.8228,1133.7813,1378.8228,1137.7813,1382.8228,1133.7813" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1173.4683" x2="1384.8228" y1="1133.7813" y2="1133.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.4302" x="1180.4683" y="1128.7153">embed(chunkText)</text></g><g class="message" data-entity-1="part7" data-entity-2="part6" id="msg26"><polygon fill="#181818" points="1184.4683,1158.9141,1174.4683,1162.9141,1184.4683,1166.9141,1180.4683,1162.9141" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1178.4683" x2="1389.8228" y1="1162.9141" y2="1162.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76.1909" x="1190.4683" y="1157.8481">vector[768]</text></g><g class="message" data-entity-1="part6" data-entity-2="part9" id="msg27"><polygon fill="#181818" points="1811.0356,1188.0469,1821.0356,1192.0469,1811.0356,1196.0469,1815.0356,1192.0469" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1173.4683" x2="1817.0356" y1="1192.0469" y2="1192.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="455.0127" x="1180.4683" y="1186.981">INSERT course_chunk(chunk, tfidf, embedding, has_embedding=true)</text></g><g class="message" data-entity-1="part9" data-entity-2="part6" id="msg28"><polygon fill="#181818" points="1184.4683,1217.1797,1174.4683,1221.1797,1184.4683,1225.1797,1180.4683,1221.1797" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1178.4683" x2="1822.0356" y1="1221.1797" y2="1221.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15.4819" x="1190.4683" y="1216.1138">ok</text></g><g class="message" data-entity-1="part6" data-entity-2="part4" id="msg29"><polygon fill="#181818" points="800.7104,1253.3125,790.7104,1257.3125,800.7104,1261.3125,796.7104,1257.3125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="794.7104" x2="1172.4683" y1="1257.3125" y2="1257.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71.6587" x="806.7104" y="1252.2466">indexed ok</text></g><g class="message" data-entity-1="part4" data-entity-2="part2" id="msg30"><polygon fill="#181818" points="450.0088,1282.4453,440.0088,1286.4453,450.0088,1290.4453,446.0088,1286.4453" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="444.0088" x2="788.7104" y1="1286.4453" y2="1286.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15.4819" x="456.0088" y="1281.3794">ok</text></g><g class="message" data-entity-1="part2" data-entity-2="part1" id="msg31"><polygon fill="#181818" points="92.2744,1311.5781,82.2744,1315.5781,92.2744,1319.5781,88.2744,1315.5781" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="86.2744" x2="438.0088" y1="1315.5781" y2="1315.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212.7227" x="98.2744" y="1310.5122">302 back to edit page + success</text></g><!--SRC=[RLNXRjis4FxFfpZqbxJ8KT0DtI301M9PIWoaZMTfMu2sC1ZfR6kHH8EaaXJ57gZFqHVRaPIisEa_YVVTTtVVtP6wqZL2KdQfa5k42Iobs4GGon_VkQv42oL28Jgfu0p-sjU2b_IHF6l92si-WqLRuhF3hYwlmDjl7x7GGf89ctiiowhTAfynRW_V67vK2Zi9taoA9uNIVmDSmN9rcx8zbxeggZrljOF69ZR6ejLIr3LA1utZOwH3PIWVgm8j9Cv-XeXtVAzH7W6lJv0vFkknm1xwkVMMytGcdiFbxSBbcoTtnuuhlhLQZ2x5hciVg7oI8aydYtbA7uLGLOkEWlGwfhZ2fcghP91jPDAKrEGWv-JYuZV7a7oO7JDa93BV6fUIQnvsjcKgj2r4vPpIZ1dZFLT88WkbjnApFszCmXOMk8xZkk4aLiNhu7FRdnHEm0F2LlZ9DVoBOv-VP9JllZPO8z_OCffzJQGgt5Dlmr-Snz-Bv1_6fbCxTIYXQ_kHcqwPcGgOl3SjZ-0goS5vzlM4BJunCXc4OOb08hL0mWlG6ijAd-zqKpC3WObX8zO8hlCFD-muml8sEma1NZyw4YbnsfB67oB6MGI5FNOGRqFMmCPUb3wBCmEQpo9OVCoILTvh1fxIN7TgEbzTfda0ugb5kQxAwU0tdzaSBRlrM9IMQyZnS6ZJE5JpwyNR4t6-3SZ_GgE1bVZoNz7fNcFgPQKbGWZKw1_VgTFTAybV2n9-guYm7mIIfq7DpJZHR6-g6aTrhaTv7DZp2UCcCYMaHn9TMurIGYh-Y9O0pAQ5osL-5-PtkM_i1Qq_jdgzvth7KYU5fLSqTbWkpV70HMiP0RhzDQliZHYVyLe3iJCmi0FQRJRGr2faM5EBJFHJqEtY9O9IEm5GfIMOFMKqWinQXZJxTB0q2HqoVJKPmtRPM-9e0Ut-htiPWYCz0ZW_Fn-7neGJ3xRL9nSpTROFJ7yHLCRQp-qm9pupm3wrBBb9uXnuNSFBw413FevW7zOoRhgwTWNsBFRKtX2s4Vvu3L9LZMAr47jBXxpOEI1fsZlJpHQv1yGxKFXaflCnfBjuFlt-xeyle-VFT2K2HnE0tbJb9XZVfW1sNAqFlrCjEpI1NfP6Yfgcki86cQs2M1gZ5NPO6Vf_lPdtl7W0BS0i8iqHFRLdeBgYeAVmVm00]--></g></svg>